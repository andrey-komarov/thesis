\chapter{Обзор предметной области}
\label{chapter1}

\section{Darcs}

Darcs~--- распределённая система контроля версий, использующая внутри
себя специально разработанную \emph{теорию патчей}. В ней, в отличие
от большинства других распределённых систем контроля версий,
отсутствует понятие <<ветки>>: любое подмножество множетсва всех
имеющихся в данном репозитории патчей можно рассматривать как
\emph{рабочую копию}.

\subsection{Обзор}

В каждый момент времени времени сосуществуют следующие три
элемента: % TODO элемента? не самое удачное слово

\begin{itemize}
\item рабочая директория (Working directory),
\item чистое дерево (Pristine Tree),
\item множество патчей.
\end{itemize}

\begin{definition}[Рабочая директория]
  Единственный из этих трёх элементов, который (при нормальном
  использовании) меняет пользователь. Директория, в которой,
  непосредственно, находятся файлы, за которыми следит Darcs.

  Может содержать изменения, которые ещё не находятся под контролем.
\end{definition}

\begin{definition}[Множество патчей]
  Все патчи, с которыми когда-либо работали в рамках этого репозитория.
\end{definition}

\begin{definition}[Чистое дерево]
  Последнее \emph{записанное} состояние рабочей директории. При
  \emph{записи} рабочая директория будет сравниваться именно с ним.
  Представляет собой список патчей, которые надо применить к пустой
  директории, чтобы получить заданное дерево.
\end{definition}

Стандартный процесс работы с Darcs-репозиторием выглядит так. 

\begin{itemize}
\item Создание пустого репозитория (init);
\item Добавление файлов (add);
\item Запись изменённой рабочей директории (record);
\item Установка метки на текущее записанное состояние (tag);
\item Отправка своей рабочей копии на удалённый сервер (pull);
\end{itemize}

В этой работе не будет детально рассматриваться синтаксис работы с
каждой из них. Вместо этого будет более подробно рассмотрено
внутреннее строение системы.


\section{Выводы по главе \ref{chapter1}}
